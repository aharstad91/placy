/**
 * Shared Travel Controls Component Styles
 * 
 * Unified styling for Travel Mode and Time Budget controls
 * used across sidebar, chapter modal, and global map modal.
 *
 * @package Placy
 * @since 1.0.0
 */

/* ==========================================================================
   Travel Controls Container
   ========================================================================== */

.ns-travel-controls {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

/* Control Group (Travel Mode / Time Budget) */
.ns-tc-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

/* ==========================================================================
   Header with Label and Info Icon
   ========================================================================== */

.ns-tc-header {
    display: flex;
    align-items: center;
    gap: 8px; /* Exact 8px gap as requested */
}

.ns-tc-label {
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--ns-text, #1a202c);
}

/* Info Button */
.ns-tc-info {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 1rem;
    height: 1rem;
    padding: 0;
    background: transparent;
    border: none;
    cursor: pointer;
    opacity: 0.5;
    transition: opacity 0.15s ease;
}

.ns-tc-info:hover {
    opacity: 1;
}

.ns-tc-info-icon {
    width: 1rem;
    height: 1rem;
    color: var(--ns-text-muted, #9ca3af);
}

/* ==========================================================================
   Toggle Group (Pill Button Container)
   ========================================================================== */

.ns-tc-toggle-group {
    display: inline-flex;
    background: var(--ns-bg-muted, #f3f4f6);
    border-radius: 9999px; /* Full rounded pill */
    padding: 4px;
    gap: 0;
}

/* ==========================================================================
   Toggle Button
   ========================================================================== */

.ns-tc-toggle-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: transparent;
    border: none;
    border-radius: 9999px;
    font-size: 0.875rem;
    font-weight: 500;
    color: var(--ns-secondary, #6b7280);
    cursor: pointer;
    transition: all 0.15s ease;
    white-space: nowrap;
}

.ns-tc-toggle-btn:hover {
    color: var(--ns-text, #1a202c);
}

/* Active State */
.ns-tc-toggle-btn.active,
.ns-tc-toggle-btn[aria-checked="true"] {
    background: var(--ns-bg, #ffffff);
    color: var(--ns-text, #1a202c);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06);
}

/* ==========================================================================
   Toggle Icon (Travel Mode Icons)
   ========================================================================== */

.ns-tc-toggle-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 1.25rem;
    height: 1.25rem;
    flex-shrink: 0;
    /* Vertical centering ensured by flexbox on parent */
}

/* Icon sprites/emojis */
.ns-tc-toggle-icon.icon-walk::before {
    content: 'ðŸš¶';
    font-size: 1rem;
    line-height: 1;
}

.ns-tc-toggle-icon.icon-bike::before {
    content: 'ðŸš²';
    font-size: 1rem;
    line-height: 1;
}

.ns-tc-toggle-icon.icon-car::before {
    content: 'ðŸš—';
    font-size: 1rem;
    line-height: 1;
}

/* Toggle Text */
.ns-tc-toggle-text {
    font-size: 0.875rem;
    line-height: 1;
}

/* ==========================================================================
   Context Variants
   ========================================================================== */

/* Sidebar Context - Stack vertically in narrow space */
.ns-travel-controls--sidebar {
    gap: 0.75rem;
}

.ns-travel-controls--sidebar .ns-tc-toggle-group {
    width: 100%;
}

.ns-travel-controls--sidebar .ns-tc-toggle-btn {
    flex: 1;
    justify-content: center;
    padding: 0.5rem 0.75rem;
}

/* Modal Context - Inline layout */
.ns-travel-controls--modal {
    flex-direction: row;
    flex-wrap: wrap;
    gap: 1.5rem;
}

.ns-travel-controls--modal .ns-tc-group {
    flex: 0 0 auto;
}

/* Modal toggle buttons need more breathing room */
.ns-travel-controls--modal .ns-tc-toggle-btn {
    padding: 0.5rem 0.875rem;
}

/* Ensure text doesn't truncate in modal */
.ns-travel-controls--modal .ns-tc-toggle-text {
    white-space: nowrap;
}

/* When inside .ns-modal-controls, adjust for container styling */
.ns-modal-controls .ns-travel-controls {
    flex-direction: row;
    flex-wrap: wrap;
    gap: 1.5rem;
    flex: 1;
}

.ns-modal-controls .ns-travel-controls .ns-tc-group {
    flex: 0 0 auto;
}

/* ==========================================================================
   Responsive Adjustments
   ========================================================================== */

@media (max-width: 640px) {
    .ns-travel-controls--modal {
        flex-direction: column;
        gap: 1rem;
    }
    
    .ns-travel-controls--modal .ns-tc-toggle-group {
        width: 100%;
    }
    
    .ns-travel-controls--modal .ns-tc-toggle-btn {
        flex: 1;
        justify-content: center;
    }
}

/* ==========================================================================
   Sync with existing icon classes (fallback support)
   ========================================================================== */

/* Support for existing icon-* classes used elsewhere */
.ns-tc-toggle-icon.icon-walk::before,
.ns-tc-toggle-btn .icon-walk::before {
    content: 'ðŸš¶';
}

.ns-tc-toggle-icon.icon-bike::before,
.ns-tc-toggle-btn .icon-bike::before {
    content: 'ðŸš²';
}

.ns-tc-toggle-icon.icon-car::before,
.ns-tc-toggle-btn .icon-car::before {
    content: 'ðŸš—';
}
